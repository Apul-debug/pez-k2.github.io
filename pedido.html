<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PEZ-K2</title>

  <!-- Íconos y tipografías -->
  <script src="https://kit.fontawesome.com/3561f854c8.js" crossorigin="anonymous"></script>
  <link href="../iconos/fontawesome-free-6.7.2-web/css/all.min.css" rel="stylesheet"> <!-- Font Awesome offline -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet" />

  <!-- Icono y estilos -->
  <link rel="icon" href="imagenes/Logo.png" type="image/x-icon">
  <link rel="stylesheet" href="css/estilos_pedido.css" />
</head>

<body>    

  <!-- Encabezado -->
<header class="header">
  <div class="contenedor-header">
    <!-- Logo + Título -->
    <a href="index.html" class="logo-titulo">
      <img src="imagenes/Logo.png" alt="Logo PEZ-K2" class="logo-img" />
      <h2 class="titulo">PEZ-K2</h2>
    </a>

    <!-- Barra de navegación -->
    <nav class="barra-nav">
      <ul>
        <li><a href="index.html"><i class="fas fa-home"></i> Inicio</a></li>
        <li><a href="menu platillos/menu.html"><i class="fas fa-utensils"></i> Menú</a></li>
        <li><a href="nosotros.html"><i class="fas fa-users"></i> Nosotros</a></li>
        <li><a href="index.html#contacto"><i class="fas fa-envelope"></i> Contacto</a></li>
        <li><a href="reserva.html"><i class="fas fa-calendar-check"></i> Reserva</a></li>
        <li><a href="promocion.html"><i class="fas fa-tags"></i> Promociones</a></li>
        <li><a href="pedido.html"><i class="fas fa-shopping-cart"></i> Pedidos</a></li>
        <li><a href="inicio_de_sesion.html"><i class="fas fa-sign-in-alt"></i> Iniciar Sesión</a></li>
      </ul>
    </nav>
  </div>
</header>
  </a>
<!-- AGREGADO: Sección de Pedido con Carrito -->
<main class="main-content">
  <h2>Realiza tu Pedido</h2>

  <form id="form-producto">
    <fieldset>
      <legend>Selecciona tu producto</legend>

      <label for="producto">Producto:</label>
      <select id="producto" required>
        <option value="" disabled selected>Selecciona un producto</option>
        <option value="Cóctel de Camarón">Cóctel de Camarón</option>
        <option value="Filetes Empanizados">Filetes Empanizados</option>
        <option value="Empanada de Camarón">Empanada de Camarón</option>
        <option value="Ostiones">Ostiones</option>
        <option value="Ceviche de Pescado">Ceviche de Pescado</option>
        <option value="Tostadas Mixtas">Tostadas Mixtas</option>
      </select>

      <label for="cantidad">Cantidad:</label>
      <input type="number" id="cantidad" min="1" max="50" required />

      <button type="submit">Agregar al carrito</button>
    </fieldset>
  </form>

  <!-- Carrito de Pedidos -->
  <section id="carrito" style="margin-top: 30px;">
    <h3>Carrito de Pedidos</h3>
    <table id="tabla-carrito">
      <thead>
        <tr>
          <th>Producto</th>
          <th>Cantidad</th>
          <th>Acción</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </section>

  <!-- Formulario de Datos Personales -->
  <form id="form-datos" action="guardar_pedido.php" method="POST" style="margin-top: 40px;">
    <fieldset>
      <legend>Datos del Cliente</legend>

      <label for="nombre">Nombre completo:</label>
      <input type="text" id="nombre" name="nombre" required placeholder="Ej. Juan Pérez" />

      <label for="correo">Correo electrónico:</label>
      <input type="email" id="correo" name="correo" required placeholder="ejemplo@correo.com" />

      <label for="telefono">Teléfono:</label>
      <input type="tel" id="telefono" name="telefono" required placeholder="Ej. 5512345678" pattern="[0-9]{10}" />

      <label for="direccion">Dirección completa:</label>
      <textarea id="direccion" name="direccion" required placeholder="Calle, número, colonia, ciudad, C.P."></textarea>

      <label for="pago">Método de pago:</label>
      <select id="pago" name="pago" required>
        <option value="" disabled selected>Selecciona una opción</option>
        <option value="Efectivo">Efectivo</option>
        <option value="Tarjeta">Tarjeta</option>
        <option value="Transferencia">Transferencia</option>
      </select>

      <label for="hora_entrega">Hora de entrega preferida:</label>
      <input type="time" id="hora_entrega" name="hora_entrega" required />

      <label for="comentarios">Comentarios adicionales:</label>
      <textarea id="comentarios" name="comentarios" rows="4" placeholder="Ej. Sin picante, con más limón, etc."></textarea>

      <input type="hidden" id="carritoInput" name="carrito" />
    </fieldset>

    <button type="submit">Enviar Pedido</button>
  </form>
</main>


 <!-- Footer -->
  <footer class="footer">
    <div class="footer-contenedor">
      <h3 class="footer-titulo">Información del Restaurante</h3>

      <table class="footer-tabla">
        <tr>
          <th><i class="fas fa-map-marker-alt"></i> Dirección</th>
          <td>Av. 4a. Avenida 45, Virgencitas, 57300 Cdad. Nezahualcóyotl, Méx.</td>
        </tr>
        <tr>
          <th><i class="fas fa-phone"></i> Teléfono</th>
          <td>(+52) 123 456 7890</td>
        </tr>
        <tr>
          <th><i class="fas fa-envelope"></i> Correo</th>
          <td>contacto@pezk2.com</td>
        </tr>
        <tr>
          <th><i class="fas fa-clock"></i> Horarios</th>
          <td>
            <ul class="horario-lista">
              <li><strong>Domingo:</strong> 10 a.m. - 8 p.m.</li>
              <li><strong>Lunes:</strong> 10 a.m. - 8 p.m.</li>
              <li><strong>Martes:</strong> <span style="color: #ffb703;">Cerrado</span></li>
              <li><strong>Miércoles a Sabádo:</strong> 10 a.m. - 8 p.m.</li>
            </ul>
          </td>
        </tr>
        <tr>
          <th>Creado por:</th>
          <td><p>LOBOS BOYS | Grupo: G50304</p></td>
        </tr>
        <tr>
          <th>Redes sociales:</th>
          <td>  
            <div class="redes">
                <a href="https://web.facebook.com/mariscospayos/" target="_blank"><i class="fab fa-facebook-f"></i></a>
                <a href="#"><i class="fab fa-instagram"></i></a>
                <a href="#"><i class="fab fa-whatsapp"></i></a>
            </div>
           </td>
        </tr>
      </table>


      <p>&copy; 2025 Marisquería PEZ-K2. Todos los derechos reservados.</p>
    </div>
  </footer>
   <!-- JavaScript para el carrito -->
  <script>
    const formProducto = document.getElementById("form-producto");
    const tablaCarrito = document.querySelector("#tabla-carrito tbody");
    const carritoInput = document.getElementById("carritoInput");

    const carrito = [];

    formProducto.addEventListener("submit", (e) => {
      e.preventDefault();
      const producto = document.getElementById("producto").value;
      const cantidad = parseInt(document.getElementById("cantidad").value);

      if (!producto || cantidad < 1) return;

      carrito.push({ producto, cantidad });
      renderizarCarrito();
    });

    function renderizarCarrito() {
      tablaCarrito.innerHTML = "";
      carrito.forEach((item, index) => {
        const fila = document.createElement("tr");

        fila.innerHTML = `
          <td>${item.producto}</td>
          <td>${item.cantidad}</td>
          <td><button type="button" onclick="eliminarProducto(${index})">Eliminar</button></td>
        `;

        tablaCarrito.appendChild(fila);
      });

      carritoInput.value = JSON.stringify(carrito);
    }

    function eliminarProducto(index) {
      carrito.splice(index, 1);
      renderizarCarrito();
    }

    document.getElementById("form-datos").addEventListener("submit", () => {
      carritoInput.value = JSON.stringify(carrito);
    });
  </script>

</body>
</html>
